<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Test Projekt</title>
        <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="stylesheets/screen.css" media="screen" title="no title" charset="utf-8">
        <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
        <script src="https://code.jquery.com/jquery-2.1.4.min.js" charset="utf-8"></script>

        <script type="text/javascript">
            function toast(jsonData){
                //create reference to this without changing it
                var self = this;
                //create reference to jsonData without changing it
                var json = $.extend({},self.defaults,jsonData);
                //toaster is the ID of the toaster you want to target
                var $toaster= $("#"+json.toaster);
                var $burner = $toaster.children(".burn");
                var $tmpl   = $toaster.children(".toast");
                var audio   = $toaster.children("audio").get(0);
                //clone the hidden template and insert data
                var $toast  = $tmpl.clone();
                    $toast.find(".title").text(json.title)
                    $toast.find(".text").text(json.text)
                    $toast.find(".left-column").css("background-image","url("+json.icon+")")
                //if no icon has been chosen, remove it
                    if(json.icon === undefined){
                        $toast.find(".left-column").css("display", "none")
                        $toast.find(".right-column").css("width", "100%")
                    }
                //if a function has been added, run it, if not, remove toast
                    if(json.func != undefined){
                        $toast.on("click", function(){
                            json.func();
                            $(this).remove()
                        })
                    }else{
                        $toast.on("click", function(){
                            $toast.finish();
                        })
                    }
                //actuall instance the toast
                    $toast.appendTo($burner);
                //optionally play sound
                    if(json.playSound){
                        audio.play();
                    }
                //remove toast after a while
                    $toast.fadeIn(400)
                          .delay(4000)
                          .fadeOut(1000, function() {
                              $(this).remove();
                          })
                //console.log(json)
                return self;
            }

            var toaster = {
                defaults : {
                    toaster      : "toaster",
                    icon         : undefined,
                    title        : "Title",
                    text         : "Text",
                    timeFadeIn   : 400,
                    timeDelay    : 4000,
                    timeFadeOut  : 1000,
                    timeClickFade: 200,
                    func         : undefined,
                    playSound    : true
                },
                //this is the function that creates the notifications
                toast: toast
            };

            //demo :)
            $(document).ready(function(){
                $("#btn1").on("click",function(){
                    toaster.toast({
                        title: "This is a notification!",
                        text: "Pretty fancy! It even has room for text in here!"
                    })
                })
                $("#btn2").on("click",function(){
                    toaster.toast({
                        icon:"stamp-1.jpg",
                        title: "Notification!",
                        text: "Pretty fancy! It even has room for text in here!"
                    })
                })
            })
        </script>
    </head>
    <body>
        <button id="btn1"type="button" name="noIcon">Create Toast - No Icon</button>
        <button id="btn2"type="button" name="noIcon">Create Toast - Icon</button>
        <div id="toaster" class="toast-wrapper">
            <audio>
             <source src="ping.wav" type="audio/wav">
            </audio>
            <div class="burn"></div>
            <div class="toast hide">
                <div class="left-column columns"></div>
                <div class="right-column columns">
                    <h3 class="title"></h3>
                    <p class="text"></p>
                </div>
            </div>
        </div>
    </body>
</html>
